"use strict";function initMap(){function e(e){$.ajax({url:"https://api.yelp.com/oauth2/token",method:"POST",data:{grant_type:"client_credentials",client_id:"yXr9jBZ-VMNuGY-eq7cQyA",client_secret:"IIjg6C0quL38dOTVl6NuXYE1ZXTt7SpUS6YyOfZrqcamj3ziiQ8jis1nLKnekHsv"},contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0}}).done(function(e){return e})}function t(t){var n=new google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:o,draggable:!1,animation:google.maps.Animation.DROP,title:t.name,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"});return infowindow=new google.maps.InfoWindow({content:""}),n.addListener("click",function(){e(t);return infowindow.setContent("<h1> "+t.name+" </h1>"),infowindow.open(o,n)}),n}var n=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],o=new google.maps.Map(document.getElementById("map"),{center:{lat:37.4029,lng:-121.9437},zoom:14,styles:n});starterLocations.forEach(function(e){markers.push(t(e))})}function runApp(){initMap(),ko.applyBindings(new ViewModel)}var starterLocations=[{name:"Inchins Bamboo",lat:37.4024,lng:-121.94,phone:"+14084713322"},{name:"Starbucks @Rio Robles",lat:37.4064,lng:-121.9418,phone:"+4084359621"},{name:"Halal Gyro Express & Kebabs",lat:37.4106962,lng:-121.9478167,phone:"+14085260444"},{name:"Mina's Korean Kitchen",lat:37.4107134,lng:-121.94796,phone:"+14084332270"},{name:"Pokeworks",lat:37.4019867,lng:-121.9400927,phone:"+14089122306"}],map,infowindow,markers=[],ViewModel=function(){var e=this;e.title=ko.observable("Neighborhood Map: North San Jose in California"),e.searchTerm=ko.observable(""),e.locationList=ko.observableArray([]),starterLocations.map(function(t){e.locationList.push(t)}),e.placeList=ko.computed(function(){var t=e.searchTerm().toLowerCase();return t?ko.utils.arrayFilter(e.locationList(),function(e){var n=e.name.toLowerCase().search(t)>=0;return e.visible(n),n}):e.locationList()},e)};