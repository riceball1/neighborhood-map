function initMap(){function e(e){this.visible=ko.observable(!0);var t=new google.maps.Marker({position:{lat:e.location.lat,lng:e.location.lng},map:o,draggable:!1,animation:google.maps.Animation.DROP,title:e.name,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"});infowindow=new google.maps.InfoWindow({content:""}),toggleMarker=ko.computed(function(){return!0===this.visible()?t.setMap(o):t.setMap(null),!0},this);var r=e.name,a=e.location.formattedAddress,n=a[0]+" <br/> "+a[1]+"  <br/> "+a[2];return t.addListener("click",function(){infowindow.setContent("<h1> "+r+" </h1><p>"+n+"</p>"),infowindow.open(o,t)}),t}var t=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}],o=new google.maps.Map(document.getElementById("map"),{center:{lat:lat,lng:lng},zoom:13,styles:t}),r=function(){var e=this;e.title=ko.observable("Neighborhood Map: North San Jose in California"),e.searchTerm=ko.observable(""),e.locationList=ko.observableArray([]),starterLocations.map(function(t){e.locationList.push(t)}),e.placeList=ko.computed(function(){var t=e.searchTerm().toLowerCase();return t?ko.utils.arrayFilter(e.locationList(),function(e){var o=e.name.toLowerCase().search(t)>=0;return e.visible=o,o}):e.locationList()},e)};$.ajax({url:"https://api.foursquare.com/v2/venues/search?ll="+lat+","+lng+"&client_id=B343KUQONJOP4GFTIV0G4O3L15JPCIQ4L4FUDNYJMPVI1NTW&client_secret=CLUHDBPHSRGCZDO3XA3X35YWA5XQMQZIKN11JW0QQENYGM54&v=20171108",method:"GET",dataType:"json"}).done(function(t){(starterLocations=t.response.venues.slice(-10)).length>0&&starterLocations.forEach(function(t){markers.push(e(t))});var o=new r;return ko.applyBindings(o),t}).fail(function(e){return handleErrors(),e})}function handleErrors(){$(".error-msg").css("display","block")}var starterLocations=[],map,infowindow,markers=[],content="",lat=37.4029,lng=-121.9437;